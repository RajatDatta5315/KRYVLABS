<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KRYV LABS | OS-1 Command Center</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root { --kryv-cyan: #06b6d4; --kryv-bg: #020202; }
        body { background: var(--kryv-bg); color: #fff; font-family: 'Inter', sans-serif; }
        .font-heading { font-family: 'Space Grotesk', sans-serif; }
        .glass { background: rgba(255, 255, 255, 0.02); backdrop-filter: blur(24px); border: 1px solid rgba(255, 255, 255, 0.05); }
        .shimmer { background: linear-gradient(90deg, transparent, rgba(6,182,212,0.1), transparent); background-size: 200% 100%; animation: shimmer 2s infinite; }
        @keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }
        .agent-card { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .agent-card:hover { border-color: var(--kryv-cyan); box-shadow: 0 0 30px rgba(6, 182, 212, 0.1); transform: translateY(-2px); }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const Dashboard = ({ user, onLogout }) => {
            const [agents, setAgents] = useState([]);
            const [loading, setLoading] = useState(true);
            const [logs, setLogs] = useState([{ t: new Date().toLocaleTimeString(), m: 'Neural Link Established' }]);

            // Simulate real-time backend updates
            useEffect(() => {
                const timer = setInterval(() => {
                    setAgents(prev => prev.map(a => ({
                        ...a,
                        load: Math.min(100, Math.max(10, a.load + (Math.random() * 6 - 3)))
                    })));
                }, 3000);
                return () => clearInterval(timer);
            }, []);

            const addAgent = () => {
                const names = ['VOID-7', 'AXION-1', 'CORE-X', 'PHANTOM'];
                const newAgent = {
                    id: Math.random().toString(36).substr(2, 9),
                    name: names[Math.floor(Math.random() * names.length)] + '-' + Math.floor(Math.random() * 100),
                    status: 'active',
                    load: 20
                };
                setAgents([newAgent, ...agents]);
                setLogs([{ t: new Date().toLocaleTimeString(), m: `Deployed ${newAgent.name}` }, ...logs]);
            };

            return (
                <div className="min-h-screen flex flex-col p-6 lg:p-10 max-w-[1600px] mx-auto">
                    {/* TOP BAR */}
                    <nav className="flex justify-between items-center mb-12 glass p-5 rounded-2xl">
                        <div className="flex items-center gap-4">
                            <div className="w-10 h-10 bg-cyan-500 rounded-lg flex items-center justify-center font-bold text-black text-xl">K</div>
                            <div>
                                <h1 className="font-heading font-bold text-xl tracking-tight uppercase tracking-widest">KRYV <span className="text-cyan-500">LABS</span></h1>
                                <p className="text-[10px] text-zinc-500 font-mono">SECURE_CHANNEL: OS_V1.02</p>
                            </div>
                        </div>
                        <div className="flex items-center gap-6">
                            <div className="text-right hidden md:block">
                                <p className="text-xs font-semibold">{user.email}</p>
                                <p className="text-[10px] text-emerald-500 font-mono uppercase tracking-tighter">● SYSTEM_ONLINE</p>
                            </div>
                            <button onClick={onLogout} className="px-5 py-2 glass hover:bg-white/5 rounded-xl text-xs font-bold transition-all">TERMINATE</button>
                        </div>
                    </nav>

                    <div className="grid grid-cols-12 gap-8 flex-1">
                        {/* LEFT: AGENT GRID */}
                        <div className="col-span-12 lg:col-span-8 flex flex-col gap-6">
                            <div className="flex justify-between items-end mb-4">
                                <div>
                                    <h2 className="font-heading text-3xl font-bold">Fleet Management</h2>
                                    <p className="text-zinc-500 text-sm">Active humanoid nodes assigned to your profile.</p>
                                </div>
                                <button 
                                    onClick={addAgent}
                                    className="bg-cyan-500 hover:bg-white text-black font-bold px-8 py-3 rounded-xl transition-all shadow-[0_0_20px_rgba(6,182,212,0.3)] text-sm uppercase tracking-widest"
                                >
                                    + Deploy Agent
                                </button>
                            </div>

                            {agents.length === 0 ? (
                                <div className="glass rounded-[2rem] p-20 text-center border-dashed border-2 border-white/10">
                                    <p className="text-zinc-500 font-mono mb-4 text-sm tracking-widest uppercase">No Neural Assets Found</p>
                                    <button onClick={addAgent} className="text-cyan-500 font-bold hover:underline">Provision First Node</button>
                                </div>
                            ) : (
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-6 pb-20">
                                    {agents.map(agent => (
                                        <div key={agent.id} className="glass p-8 rounded-[2rem] agent-card flex flex-col justify-between h-56 relative overflow-hidden group">
                                            <div className="absolute top-0 right-0 w-32 h-32 bg-cyan-500/5 blur-3xl rounded-full -mr-16 -mt-16"></div>
                                            
                                            <div className="flex justify-between items-start relative z-10">
                                                <div>
                                                    <span className="text-[10px] font-mono text-cyan-500/60 uppercase mb-1 block">NODE ID: {agent.id.slice(0, 4)}</span>
                                                    <h3 className="font-heading text-2xl font-bold group-hover:text-cyan-400 transition-colors uppercase">{agent.name}</h3>
                                                </div>
                                                <div className="flex items-center gap-2 px-3 py-1 bg-white/5 rounded-full border border-white/10">
                                                    <span className="w-2 h-2 rounded-full bg-emerald-500 shadow-[0_0_8px_#10b981]"></span>
                                                    <span className="text-[10px] font-bold uppercase">{agent.status}</span>
                                                </div>
                                            </div>

                                            <div className="relative z-10 mt-8">
                                                <div className="flex justify-between items-end mb-3 text-[10px] font-mono">
                                                    <span className="text-zinc-500 uppercase">NEURAL_LOAD_CAPACITY</span>
                                                    <span className="font-bold text-cyan-400">{Math.floor(agent.load)}%</span>
                                                </div>
                                                <div className="h-2 bg-white/5 rounded-full overflow-hidden">
                                                    <div 
                                                        className="h-full bg-cyan-500 transition-all duration-700 shadow-[0_0_15px_rgba(6,182,212,0.8)]"
                                                        style={{ width: `${agent.load}%` }}
                                                    ></div>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            )}
                        </div>

                        {/* RIGHT: SYSTEM TELEMETRY */}
                        <div className="col-span-12 lg:col-span-4 space-y-8">
                            <div className="glass p-8 rounded-[2rem] h-full flex flex-col">
                                <h3 className="font-heading font-bold text-lg mb-6 flex items-center gap-2">
                                    <span className="w-1.5 h-6 bg-cyan-500 block"></span>
                                    SYSTEM_TELEMETRY
                                </h3>
                                <div className="flex-1 space-y-6 overflow-y-auto pr-2">
                                    {logs.map((log, i) => (
                                        <div key={i} className="flex gap-4 border-l border-white/10 pl-4 py-1">
                                            <span className="text-[10px] font-mono text-zinc-600">[{log.t}]</span>
                                            <p className="text-xs text-zinc-400">{log.m}</p>
                                        </div>
                                    ))}
                                    <div className="h-4 shimmer rounded w-3/4 opacity-20"></div>
                                    <div className="h-4 shimmer rounded w-1/2 opacity-20"></div>
                                </div>
                                <div className="mt-8 pt-6 border-t border-white/5">
                                    <div className="flex justify-between text-xs font-mono mb-4 text-zinc-500">
                                        <span>CLUSTER_STATUS</span>
                                        <span className="text-emerald-500 uppercase underline">Optimal</span>
                                    </div>
                                    <div className="grid grid-cols-2 gap-4">
                                        <div className="bg-white/5 p-4 rounded-xl">
                                            <p className="text-[10px] text-zinc-500 mb-1">LATENCY</p>
                                            <p className="text-xl font-heading font-bold">14ms</p>
                                        </div>
                                        <div className="bg-white/5 p-4 rounded-xl">
                                            <p className="text-[10px] text-zinc-500 mb-1">UPTIME</p>
                                            <p className="text-xl font-heading font-bold">99.9%</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const Auth = ({ onLogin }) => {
            const [email, setEmail] = useState('');
            return (
                <div className="min-h-screen flex items-center justify-center p-6">
                    <div className="glass p-12 rounded-[2.5rem] w-full max-w-md border-t-2 border-t-cyan-500/50">
                        <div className="w-16 h-16 bg-white rounded-2xl mx-auto mb-8 flex items-center justify-center">
                            <div className="w-8 h-8 border-4 border-black border-t-transparent rounded-full animate-spin"></div>
                        </div>
                        <h1 className="text-4xl font-heading font-bold mb-2 tracking-tighter text-center uppercase">OS-1 <span className="text-cyan-500">ACCESS</span></h1>
                        <p className="text-zinc-500 text-xs font-mono mb-10 text-center tracking-[0.2em] uppercase underline decoration-cyan-500/20">Authorized Operators Only</p>
                        
                        <div className="space-y-4">
                            <input 
                                type="email" 
                                placeholder="OPERATOR_EMAIL"
                                className="w-full bg-white/5 border border-white/10 p-5 rounded-2xl focus:border-cyan-500 outline-none text-sm transition-all text-center uppercase tracking-widest placeholder:text-zinc-700"
                                onChange={e => setEmail(e.target.value)}
                            />
                            <button 
                                onClick={() => onLogin({ email: email || 'ADMIN@KRYV.IO' })}
                                className="w-full py-5 bg-white text-black font-bold rounded-2xl hover:bg-cyan-500 transition-all uppercase text-sm tracking-widest shadow-[0_20px_40px_-15px_rgba(255,255,255,0.1)] active:scale-95"
                            >
                                Initiate Link
                            </button>
                        </div>
                        <p className="text-[10px] text-zinc-700 font-mono mt-12 text-center uppercase">© 2024 KRYV LABS // NEURAL_ENCRYPTION_v5.4</p>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [user, setUser] = useState(null);
            return user ? <Dashboard user={user} onLogout={() => setUser(null)} /> : <Auth onLogin={setUser} />;
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
